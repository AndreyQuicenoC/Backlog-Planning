<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Visualizador de Historias de Usuario para Proyectos de Charlaton"
    />
    <title>Historias de Usuario - Charlaton</title>
    <link rel="stylesheet" href="public/styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="header">
      <div class="container">
        <div class="header-content">
          <h1 class="logo">
            <span class="logo-icon"></span>
            Historias de Usuario
          </h1>
          <div class="project-info">
            <span class="project-name">Charlaton</span>
          </div>
          <button
            id="theme-toggle"
            class="theme-toggle"
            aria-label="Cambiar tema"
          >
            <span class="theme-icon">游깿</span>
          </button>
        </div>
      </div>
    </header>

    <main class="main">
      <div class="container">
        <!-- Filtros y b칰squeda -->
        <section class="controls" aria-label="Controles de filtrado">
          <div class="search-box">
            <label for="search-input" class="sr-only">Buscar historias</label>
            <input
              type="text"
              id="search-input"
              class="search-input"
              placeholder="游댌 Buscar por t칤tulo, c칩digo o descripci칩n..."
              aria-describedby="search-help"
            />
            <span id="search-help" class="sr-only"
              >Escribe para filtrar las historias en tiempo real</span
            >
          </div>

          <div class="filter-group">
            <label for="epic-filter" class="filter-label"
              >Filtrar por 칄pica:</label
            >
            <select id="epic-filter" class="epic-filter">
              <option value="all">Todas las 칠picas</option>
            </select>
          </div>

          <div class="filter-group">
            <label for="sprint-filter" class="filter-label"
              >Filtrar por Sprint:</label
            >
            <select id="sprint-filter" class="sprint-filter epic-filter">
              <option value="all">Todos los sprints</option>
              <option value="S1">Sprint 1 - Gesti칩n usuarios + GUI</option>
              <option value="S2">Sprint 2 - Chat en tiempo real</option>
              <option value="S3">Sprint 3 - Transmisi칩n de voz</option>
              <option value="S4">Sprint 4 - Transmisi칩n de video</option>
            </select>
          </div>

          <div class="stats" id="stats">
            <span class="stat-item">
              <strong id="total-stories">0</strong> historias
            </span>
            <span class="stat-item">
              <strong id="visible-stories">0</strong> mostradas
            </span>
          </div>
        </section>

        <!-- Lista de historias -->
        <section
          class="stories-section"
          aria-label="Lista de historias de usuario"
        >
          <div id="stories-container" class="stories-grid">
            <!-- Las historias se cargar치n din치micamente aqu칤 -->
          </div>

          <div id="loading" class="loading" role="status" aria-live="polite">
            <div class="spinner"></div>
            <p>Cargando historias...</p>
          </div>

          <div id="empty-state" class="empty-state" hidden>
            <span class="empty-icon">游댌</span>
            <h2>No se encontraron historias</h2>
            <p>Intenta con otros criterios de b칰squeda o filtro.</p>
          </div>

          <div id="error-state" class="error-state" hidden role="alert">
            <span class="error-icon">丘멆잺</span>
            <h2>Error al cargar historias</h2>
            <p id="error-message"></p>
            <button id="retry-button" class="retry-button">Reintentar</button>
          </div>
        </section>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <p>&copy; 2025 Charlaton - Proyecto Integrador</p>
        <p>Generado con 仇벒잺 para gesti칩n 치gil de proyectos</p>
      </div>
    </footer>

    <!-- Modal para ver detalles de historia -->
    <div
      id="modal"
      class="modal"
      role="dialog"
      aria-modal="true"
      hidden
      style="display: none"
    >
      <div class="modal-overlay" id="modal-overlay"></div>
      <div class="modal-content" id="modal-content">
        <!-- Contenido din치mico -->
      </div>
    </div>

    <script src="data.js"></script>
    <script src="app.js"></script>
  </body>
</html>
